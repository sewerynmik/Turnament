@using System.Security.Claims
@model Turnament.Models.Tournament

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Tournament</h4>
    <hr/>

    <dl class="row">
        <dt class="col-sm-2">
            Nazwa
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        @if (Model.Description != null)
        {
            <dt class="col-sm-2">
                Opis
            </dt>

            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Description)
            </dd>
        }
        <dt class="col-sm-2">
            Data rozpoczęcia
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.StartDate)
        </dd>
        <dt class="col-sm-2">
            Data zakończenia
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.EndDate)
        </dd>
        <dt class="col-sm-2">
            Dyscyplina
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sport.Name)
        </dd>
        <dt class="col-sm-2">
            Rodziaj eliminacji
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.BracketType.Name)
        </dd>
        <dt class="col-sm-2">
            Organizator
        </dt>
        <dd class="col-sm-10">
            <a class="text-dark nav-link" asp-controller="Users" asp-action="Details"
               asp-route-id="@Model.Id">@Html.DisplayFor(model => model.Creator.Username)</a>
        </dd>
        @if (Model.WinnerTeamId != null)
        {
        <dt class="col-sm-2">
            Zwycięsca
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.WinnerTeam.Name)
        </dd> 
        }
    </dl>
</div>
<div>
    @if (User.FindFirst(ClaimTypes.NameIdentifier)?.Value == Model.CreatorId.ToString())
    {
        <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-success">Edytuj</a>
    }
    <a asp-action="Index" class="btn btn-secondary">Wróć do listy</a>
</div>
